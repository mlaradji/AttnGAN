name: AttnGAN

conda_env: conda.yaml
            
entry_points:
  
  download:
    parameters:
      dataset: {type: string, default: "birds"}
      
    command: "python src/download.py {dataset} --all --overwrite"
    
  create:
    parameters:
      data-dir: {type: string}
    
    command: "python src/create_dataset.py --data-dir {data-dir}"
    
  generate:
    parameters:
      cfg: {type: string, default: "birds/eval_bird.yml"}
      gpu: {type: int, default: 0}
      
    command: "python src/main.py --cfg cfg/{cfg} --gpu {gpu}"
      
  train_damsm:
    parameters:
      cfg: {type: string, default: "birds/DAMSM/bird.yml"}
      gpu: {type: int, default: 0}
      
    command: "python src/pretrain_DAMSM.py --cfg cfg/{cfg} --gpu {gpu}"
    
  train_attngan:
    parameters:
      cfg: {type: string, default: "birds/bird_attn2.yml"}
      gpu: {type: int, default: 0}
      
    command: "python src/main.py --cfg cfg/{cfg} --gpu {gpu}"
    
  birds:
    parameters:
      gpu: {type: int, default: 0}
    command: 
      python src/download.py birds --raw --metadata --overwrite
      python src/pretrain_DAMSM.py --cfg cfg/birds/DAMSM/bird.yml --gpu {gpu}
      python src/main.py --cfg cfg/birds/bird_attn2.yml --gpu {gpu}
      python src/main.py --cfg cfg/birds/eval_bird.yml --gpu {gpu}